import{_ as n}from"./preload-helper-e4860ae8.js";import{X as D}from"./vendor-5a111b6e.js";const v=()=>{let e;const{subscribe:p}=D(void 0,t=>{let i=()=>{};return(async()=>{{const{app:r}=await n(()=>import("./app-db9d6f6f.js"),["chunks/app-db9d6f6f.js","chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),{getAuth:a,onAuthStateChanged:s}=await n(()=>import("./vendor-5a111b6e.js").then(function(o){return o.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]);e=a(r),i=s(e,t)}})(),i});async function P(t,i,r){const{createUserWithEmailAndPassword:a,updateProfile:s,sendEmailVerification:o}=await n(()=>import("./vendor-5a111b6e.js").then(function(h){return h.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),{getDoc:w,doc:E,setDoc:m,serverTimestamp:l,getFirestore:c}=await n(()=>import("./vendor-5a111b6e.js").then(function(h){return h.au}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),{app:_}=await n(()=>import("./app-db9d6f6f.js"),["chunks/app-db9d6f6f.js","chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),d=c(_),u=E(d,"users",t);(await w(u)).exists()||(await a(e,i,r),await s(e.currentUser,{displayName:t}),await o(e.currentUser),await m(u,{businessID:"",businessName:"",uid:e.currentUser.uid,email:e.currentUser.email,phone:null,createdAt:l()}))}async function f(){try{const{setPersistence:t,browserLocalPersistence:i,signInWithPopup:r,GoogleAuthProvider:a}=await n(()=>import("./vendor-5a111b6e.js").then(function(s){return s.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]);await t(e,i),await r(e,new a)}catch{}}async function g(t,i){const{setPersistence:r,browserLocalPersistence:a,signInWithEmailAndPassword:s}=await n(()=>import("./vendor-5a111b6e.js").then(function(o){return o.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]);await r(e,a),await s(e,t,i)}async function A(t,i){var d;const{setPersistence:r,browserLocalPersistence:a,signInWithEmailAndPassword:s}=await n(()=>import("./vendor-5a111b6e.js").then(function(u){return u.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),{getDoc:o,doc:w,getFirestore:E}=await n(()=>import("./vendor-5a111b6e.js").then(function(u){return u.au}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]),{app:m}=await n(()=>import("./app-db9d6f6f.js"),["chunks/app-db9d6f6f.js","chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]);if(!t||t.length<2||!i||i.length<12)return;const l=E(m),c=await o(w(l,"users",t));if(!c.exists())return;const _=(d=c==null?void 0:c.data())==null?void 0:d.email;!_||_.length<3||(await r(e,a),await s(e,_,i))}async function I(){const{signOut:t}=await n(()=>import("./vendor-5a111b6e.js").then(function(i){return i.at}),["chunks/vendor-5a111b6e.js","assets/vendor-dc74a490.css"]);await t(e)}return{subscribe:p,register:P,signInGoogle:f,signInEmail:g,signInUsername:A,signOut:I}},R=v();export{R as a};
