import{_ as D,a9 as b,aa as h,ab as p,ac as w,Y as i,ad as m,Z as $,ae as I,af as d,ag as u,ah as y,ai as f}from"./vendor-5a111b6e.js";import{s as l}from"./storage-c0d15549.js";import{app as c}from"./app-db9d6f6f.js";async function A(s){if(!s)return null;let e=null;try{e=await D(s),e=t=>{const a=t.data();return a.id=t.id,a}}catch{}finally{return e}}async function N(s,e){let t=l.getItem(e);if(t)return t;try{const a=i(c);t=(await u(y(d(a,e),f("businessID","==",s)))).docs.map(r=>{const o=r.data();return o.id=r.id,o}),l.setItem(e,t),`${t==null?void 0:t.length}`}catch{}finally{return t}}async function R(s,e,t){let a=null;try{const n=i(c);a=(await u(y(d(n,e),f("businessID","==",s),...t))).docs.map(o=>{const g=o.data();return g.id=o.id,g}),`${a==null?void 0:a.length}`}catch{}finally{return a}}async function S(s,e,t){let a=null;try{const n=b(c);const r=await h(p(n,`${s.businessID}/equipment/${s.id}${e?"/tiny_img_":"/img_"}${s.imageOrder[t]}`));a=`data:image/png;base64,${w(r)}`}catch{}finally{return a}}async function v(s,e,t){try{const a=i(c),n=await m($(a,s,e),t);return n}catch{}}async function x(s,e){try{const t=i(c),a=await I(d(t,s),e);return a}catch{}}async function B(s,e){var t;try{const a=i(c),n=await u(y(d(a,"assignments"),f("equipmentID","==",s)));for(let r of n.docs)m(r.ref,{equipmentName:e});`${(t=n==null?void 0:n.docs)==null?void 0:t.length}`}catch{}}export{N as a,A as b,B as c,x as d,S as g,R as q,v as u};
