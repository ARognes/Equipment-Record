import{S as _e,i as me,s as de,l as ke,g as m,n as be,o as B,p as ye,q as A,d as n,P as Ye,L as Ee,M as ee,O as K,D as Ve,e as j,t as O,c as T,a as b,h as Y,b as f,H as z,j as je,Q as Ue,R as Ke,T as Ne,U as Me,C as ie,V as G,W,X as ce,z as Te,Y as fe,k as x,G as Fe,m as U,Z as Ae,_ as P,$ as Pe,a0 as Ge,w as te,x as re,y as le,B as se,a1 as we}from"../chunks/vendor-7483cdb5.js";import{L as Ce}from"../chunks/Loading-a6633037.js";import{a as ge}from"../chunks/auth-887b2c39.js";import{g as We}from"../chunks/navigation-0e6511d1.js";import{s as He}from"../chunks/storage-c0d15549.js";import{A as Le}from"../chunks/account-e554063a.js";import{p as Ze}from"../chunks/stores-0399aab1.js";/* empty css                                                      */import"../chunks/preload-helper-e4860ae8.js";import"../chunks/singletons-d1fb5791.js";function Qe(i){let e,t,l;return{c(){e=j("p"),t=O(i[1]),this.h()},l(s){e=T(s,"P",{id:!0,class:!0});var a=b(e);t=Y(a,i[1]),a.forEach(n),this.h()},h(){f(e,"id","errorMsg"),f(e,"class","svelte-mtbq9j")},m(s,a){m(s,e,a),z(e,t)},p(s,a){a&2&&je(t,s[1])},i(s){l||Ue(()=>{l=Ke(e,Me,{duration:100}),l.start()})},o:K,d(s){s&&n(e)}}}function Xe(i){let e,t,l,s;return{c(){e=j("p"),t=O(i[1]),this.h()},l(a){e=T(a,"P",{id:!0,class:!0});var r=b(e);t=Y(r,i[1]),r.forEach(n),this.h()},h(){f(e,"id","errorMsg-active"),f(e,"class","svelte-mtbq9j")},m(a,r){m(a,e,r),z(e,t),s=!0},p(a,r){(!s||r&2)&&je(t,a[1])},i(a){s||(Ue(()=>{l||(l=Ne(e,Me,{duration:100},!0)),l.run(1)}),s=!0)},o(a){l||(l=Ne(e,Me,{duration:100},!1)),l.run(0),s=!1},d(a){a&&n(e),a&&l&&l.end()}}}function Je(i){let e,t,l,s;const a=[Xe,Qe],r=[];function c(p,u){return p[2]?0:1}return e=c(i),t=r[e]=a[e](i),{c(){t.c(),l=ke()},l(p){t.l(p),l=ke()},m(p,u){r[e].m(p,u),m(p,l,u),s=!0},p(p,[u]){let g=e;e=c(p),e===g?r[e].p(p,u):(be(),B(r[g],1,1,()=>{r[g]=null}),ye(),t=r[e],t?t.p(p,u):(t=r[e]=a[e](p),t.c()),A(t,1),t.m(l.parentNode,l))},i(p){s||(A(t),s=!0)},o(p){B(t),s=!1},d(p){r[e].d(p),p&&n(l)}}}function et(i,e,t){let l,s,a=K,r=()=>(a(),a=Ye(c,u=>t(1,s=u)),c);i.$$.on_destroy.push(()=>a());let{errorMsg:c}=e;r();const p=Ve(!1);return Ee(i,p,u=>t(2,l=u)),i.$$set=u=>{"errorMsg"in u&&r(t(0,c=u.errorMsg))},i.$$.update=()=>{i.$$.dirty&2&&(async()=>!s||(console.error(s),ee(p,l=!0,l),await new Promise(u=>setTimeout(u,500)),ee(p,l=!1,l)))()},[c,s,l,p]}class tt extends _e{constructor(e){super();me(this,e,et,Je,de,{errorMsg:0})}}function rt(i){let e,t,l,s=[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},i[0]],a={};for(let r=0;r<s.length;r+=1)a=ie(a,s[r]);return{c(){e=G("svg"),t=G("path"),l=G("path"),this.h()},l(r){e=W(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0});var c=b(e);t=W(c,"path",{d:!0,fill:!0}),b(t).forEach(n),l=W(c,"path",{d:!0}),b(l).forEach(n),c.forEach(n),this.h()},h(){f(t,"d","M0 0h24v24H0V0z"),f(t,"fill","none"),f(l,"d","M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"),ce(e,a)},m(r,c){m(r,e,c),z(e,t),z(e,l)},p(r,[c]){ce(e,a=Te(s,[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},c&1&&r[0]]))},i:K,o:K,d(r){r&&n(e)}}}function lt(i,e,t){return i.$$set=l=>{t(0,e=ie(ie({},e),fe(l)))},e=fe(e),[e]}class st extends _e{constructor(e){super();me(this,e,lt,rt,de,{})}}function it(i){let e,t,l,s=[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},i[0]],a={};for(let r=0;r<s.length;r+=1)a=ie(a,s[r]);return{c(){e=G("svg"),t=G("path"),l=G("path"),this.h()},l(r){e=W(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0});var c=b(e);t=W(c,"path",{d:!0,fill:!0}),b(t).forEach(n),l=W(c,"path",{d:!0}),b(l).forEach(n),c.forEach(n),this.h()},h(){f(t,"d","M0 0h24v24H0V0z"),f(t,"fill","none"),f(l,"d","M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"),ce(e,a)},m(r,c){m(r,e,c),z(e,t),z(e,l)},p(r,[c]){ce(e,a=Te(s,[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},c&1&&r[0]]))},i:K,o:K,d(r){r&&n(e)}}}function at(i,e,t){return i.$$set=l=>{t(0,e=ie(ie({},e),fe(l)))},e=fe(e),[e]}class De extends _e{constructor(e){super();me(this,e,at,it,de,{})}}function nt(i){let e,t,l,s=[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},i[0]],a={};for(let r=0;r<s.length;r+=1)a=ie(a,s[r]);return{c(){e=G("svg"),t=G("path"),l=G("path"),this.h()},l(r){e=W(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0});var c=b(e);t=W(c,"path",{d:!0,fill:!0}),b(t).forEach(n),l=W(c,"path",{d:!0}),b(l).forEach(n),c.forEach(n),this.h()},h(){f(t,"d","M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z"),f(t,"fill","none"),f(l,"d","M12 6a9.77 9.77 0 0 1 8.82 5.5 9.647 9.647 0 0 1-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02a2.5 2.5 0 0 1-2.5-2.5c0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75a4.6 4.6 0 0 0-.36 1.78 4.507 4.507 0 0 0 6.27 4.14l.98.98c-.88.24-1.8.38-2.75.38a9.77 9.77 0 0 1-8.82-5.5c.7-1.43 1.72-2.61 2.93-3.53z"),ce(e,a)},m(r,c){m(r,e,c),z(e,t),z(e,l)},p(r,[c]){ce(e,a=Te(s,[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},c&1&&r[0]]))},i:K,o:K,d(r){r&&n(e)}}}function ot(i,e,t){return i.$$set=l=>{t(0,e=ie(ie({},e),fe(l)))},e=fe(e),[e]}class qe extends _e{constructor(e){super();me(this,e,ot,nt,de,{})}}function ut(i){let e,t,l,s,a,r=[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},i[0]],c={};for(let p=0;p<r.length;p+=1)c=ie(c,r[p]);return{c(){e=G("svg"),t=G("g"),l=G("path"),s=G("path"),a=G("path"),this.h()},l(p){e=W(p,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0});var u=b(e);t=W(u,"g",{fill:!0});var g=b(t);l=W(g,"path",{d:!0}),b(l).forEach(n),s=W(g,"path",{d:!0,opacity:!0}),b(s).forEach(n),g.forEach(n),a=W(u,"path",{d:!0}),b(a).forEach(n),u.forEach(n),this.h()},h(){f(l,"d","M0 0h24v24H0V0z"),f(s,"d","M0 0h24v24H0V0z"),f(s,"opacity",".87"),f(t,"fill","none"),f(a,"d","M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"),ce(e,c)},m(p,u){m(p,e,u),z(e,t),z(t,l),z(t,s),z(e,a)},p(p,[u]){ce(e,c=Te(r,[{xmlns:"http://www.w3.org/2000/svg"},{height:"24"},{viewBox:"0 0 24 24"},{width:"24"},u&1&&p[0]]))},i:K,o:K,d(p){p&&n(e)}}}function ct(i,e,t){return i.$$set=l=>{t(0,e=ie(ie({},e),fe(l)))},e=fe(e),[e]}class ft extends _e{constructor(e){super();me(this,e,ct,ut,de,{})}}function pt(i){let e,t,l=i[0].displayName+"",s,a,r=i[0].email+"",c,p,u,g;return{c(){e=j("button"),t=O("Sign Out"),s=O(l),a=O(" ("),c=O(r),p=O(")")},l(d){e=T(d,"BUTTON",{});var w=b(e);t=Y(w,"Sign Out"),w.forEach(n),s=Y(d,l),a=Y(d," ("),c=Y(d,r),p=Y(d,")")},m(d,w){m(d,e,w),z(e,t),m(d,s,w),m(d,a,w),m(d,c,w),m(d,p,w),u||(g=P(e,"click",i[36]),u=!0)},p(d,w){w[0]&1&&l!==(l=d[0].displayName+"")&&je(s,l),w[0]&1&&r!==(r=d[0].email+"")&&je(c,r)},i:K,o:K,d(d){d&&n(e),d&&n(s),d&&n(a),d&&n(c),d&&n(p),u=!1,g()}}}function ht(i){let e,t,l,s,a,r,c,p,u,g,d,w,N;const k=[dt,mt],y=[];function V(h,v){return h[1]?0:1}t=V(i),l=y[t]=k[t](i),p=new tt({props:{errorMsg:i[13]}});let $=i[10]&&Be();return{c(){e=j("div"),l.c(),s=x(),a=j("button"),r=O("Authenticate with Google"),c=x(),te(p.$$.fragment),u=x(),$&&$.c(),g=ke(),this.h()},l(h){e=T(h,"DIV",{id:!0,class:!0});var v=b(e);l.l(v),s=U(v),a=T(v,"BUTTON",{id:!0,class:!0});var H=b(a);r=Y(H,"Authenticate with Google"),H.forEach(n),c=U(v),re(p.$$.fragment,v),v.forEach(n),u=U(h),$&&$.l(h),g=ke(),this.h()},h(){f(a,"id","google"),f(a,"class","svelte-zjx7pb"),f(e,"id","auth"),f(e,"class","svelte-zjx7pb")},m(h,v){m(h,e,v),y[t].m(e,null),z(e,s),z(e,a),z(a,r),z(e,c),le(p,e,null),m(h,u,v),$&&$.m(h,v),m(h,g,v),d=!0,w||(N=P(a,"click",i[16]),w=!0)},p(h,v){let H=t;t=V(h),t===H?y[t].p(h,v):(be(),B(y[H],1,1,()=>{y[H]=null}),ye(),l=y[t],l?l.p(h,v):(l=y[t]=k[t](h),l.c()),A(l,1),l.m(e,s)),h[10]?$?v[0]&1024&&A($,1):($=Be(),$.c(),A($,1),$.m(g.parentNode,g)):$&&(be(),B($,1,1,()=>{$=null}),ye())},i(h){d||(A(l),A(p.$$.fragment,h),A($),d=!0)},o(h){B(l),B(p.$$.fragment,h),B($),d=!1},d(h){h&&n(e),y[t].d(),se(p),h&&n(u),$&&$.d(h),h&&n(g),w=!1,N()}}}function _t(i){let e,t,l;return t=new Ce({}),{c(){e=O(`Checking auth status \u2026
  `),te(t.$$.fragment)},l(s){e=Y(s,`Checking auth status \u2026
  `),re(t.$$.fragment,s)},m(s,a){m(s,e,a),le(t,s,a),l=!0},p:K,i(s){l||(A(t.$$.fragment,s),l=!0)},o(s){B(t.$$.fragment,s),l=!1},d(s){s&&n(e),se(t,s)}}}function mt(i){let e,t,l,s,a,r,c,p,u,g,d,w,N,k,y,V,$,h,v,H,R,M,D,C,q,F,Z,X,ne,L,ue,_,S,J;w=new Le({}),$=new st({});const pe=[gt,vt],Q=[];function ae(o,I){return o[2]?0:1}return M=ae(i),D=Q[M]=pe[M](i),X=new ft({}),{c(){e=j("h1"),t=O("Register"),l=x(),s=j("p"),a=O("Already have an account? "),r=j("span"),c=O("Sign in"),p=x(),u=j("input"),g=x(),d=j("div"),te(w.$$.fragment),N=x(),k=j("input"),y=x(),V=j("div"),te($.$$.fragment),h=x(),v=j("input"),R=x(),D.c(),C=x(),q=j("input"),F=x(),Z=j("div"),te(X.$$.fragment),ne=x(),L=j("button"),ue=O("Register"),this.h()},l(o){e=T(o,"H1",{class:!0});var I=b(e);t=Y(I,"Register"),I.forEach(n),l=U(o),s=T(o,"P",{});var oe=b(s);a=Y(oe,"Already have an account? "),r=T(oe,"SPAN",{class:!0});var $e=b(r);c=Y($e,"Sign in"),$e.forEach(n),oe.forEach(n),p=U(o),u=T(o,"INPUT",{type:!0,spellcheck:!0,placeholder:!0,class:!0}),g=U(o),d=T(o,"DIV",{class:!0});var ze=b(d);re(w.$$.fragment,ze),ze.forEach(n),N=U(o),k=T(o,"INPUT",{type:!0,spellcheck:!0,placeholder:!0,class:!0}),y=U(o),V=T(o,"DIV",{class:!0});var Ie=b(V);re($.$$.fragment,Ie),Ie.forEach(n),h=U(o),v=T(o,"INPUT",{type:!0,spellcheck:!0,placeholder:!0,class:!0}),R=U(o),D.l(o),C=U(o),q=T(o,"INPUT",{type:!0,spellcheck:!0,placeholder:!0,class:!0}),F=U(o),Z=T(o,"DIV",{class:!0});var E=b(Z);re(X.$$.fragment,E),E.forEach(n),ne=U(o),L=T(o,"BUTTON",{id:!0,class:!0});var he=b(L);ue=Y(he,"Register"),he.forEach(n),this.h()},h(){f(e,"class","svelte-zjx7pb"),f(r,"class","link svelte-zjx7pb"),f(u,"type","text"),f(u,"spellcheck","false"),f(u,"placeholder","Username"),f(u,"class","svelte-zjx7pb"),f(d,"class","image svelte-zjx7pb"),f(k,"type","email"),f(k,"spellcheck","false"),f(k,"placeholder","Email"),f(k,"class","svelte-zjx7pb"),f(V,"class","image svelte-zjx7pb"),f(v,"type",H=i[2]?"text":"password"),f(v,"spellcheck","false"),f(v,"placeholder","Password"),f(v,"class","svelte-zjx7pb"),f(q,"type","password"),f(q,"spellcheck","false"),f(q,"placeholder","Confirm password"),f(q,"class","svelte-zjx7pb"),f(Z,"class","image svelte-zjx7pb"),f(L,"id","register"),f(L,"class","svelte-zjx7pb")},m(o,I){m(o,e,I),z(e,t),m(o,l,I),m(o,s,I),z(s,a),z(s,r),z(r,c),m(o,p,I),m(o,u,I),we(u,i[8]),m(o,g,I),m(o,d,I),le(w,d,null),m(o,N,I),m(o,k,I),we(k,i[9]),m(o,y,I),m(o,V,I),le($,V,null),m(o,h,I),m(o,v,I),m(o,R,I),Q[M].m(o,I),m(o,C,I),m(o,q,I),m(o,F,I),m(o,Z,I),le(X,Z,null),m(o,ne,I),m(o,L,I),z(L,ue),_=!0,S||(J=[P(r,"click",i[27]),P(u,"keypress",i[19]),P(u,"input",i[28]),P(u,"input",i[29]),P(k,"keypress",i[19]),P(k,"input",i[30]),P(k,"input",i[31]),P(v,"keypress",i[19]),P(v,"input",i[32]),P(q,"keypress",i[19]),P(q,"input",i[35]),P(L,"click",i[17])],S=!0)},p(o,I){I[0]&256&&u.value!==o[8]&&we(u,o[8]),I[0]&512&&k.value!==o[9]&&we(k,o[9]),(!_||I[0]&4&&H!==(H=o[2]?"text":"password"))&&f(v,"type",H);let oe=M;M=ae(o),M===oe?Q[M].p(o,I):(be(),B(Q[oe],1,1,()=>{Q[oe]=null}),ye(),D=Q[M],D?D.p(o,I):(D=Q[M]=pe[M](o),D.c()),A(D,1),D.m(C.parentNode,C))},i(o){_||(A(w.$$.fragment,o),A($.$$.fragment,o),A(D),A(X.$$.fragment,o),_=!0)},o(o){B(w.$$.fragment,o),B($.$$.fragment,o),B(D),B(X.$$.fragment,o),_=!1},d(o){o&&n(e),o&&n(l),o&&n(s),o&&n(p),o&&n(u),o&&n(g),o&&n(d),se(w),o&&n(N),o&&n(k),o&&n(y),o&&n(V),se($),o&&n(h),o&&n(v),o&&n(R),Q[M].d(o),o&&n(C),o&&n(q),o&&n(F),o&&n(Z),se(X),o&&n(ne),o&&n(L),S=!1,Pe(J)}}}function dt(i){let e,t,l,s,a,r,c,p,u,g,d,w,N,k,y,V,$,h,v,H,R,M,D,C,q,F,Z,X;w=new Le({});const ne=[kt,wt],L=[];function ue(_,S){return _[2]?0:1}return R=ue(i),M=L[R]=ne[R](i),{c(){e=j("h1"),t=O("Sign In"),l=x(),s=j("p"),a=O("Need an account? "),r=j("span"),c=O("Register"),p=x(),u=j("input"),g=x(),d=j("div"),te(w.$$.fragment),N=x(),k=j("div"),y=j("input"),$=x(),h=j("a"),v=O("Forgot"),H=x(),M.c(),D=x(),C=j("button"),q=O("Sign In"),this.h()},l(_){e=T(_,"H1",{class:!0});var S=b(e);t=Y(S,"Sign In"),S.forEach(n),l=U(_),s=T(_,"P",{});var J=b(s);a=Y(J,"Need an account? "),r=T(J,"SPAN",{class:!0});var pe=b(r);c=Y(pe,"Register"),pe.forEach(n),J.forEach(n),p=U(_),u=T(_,"INPUT",{type:!0,spellcheck:!0,placeholder:!0,class:!0}),g=U(_),d=T(_,"DIV",{class:!0});var Q=b(d);re(w.$$.fragment,Q),Q.forEach(n),N=U(_),k=T(_,"DIV",{id:!0,class:!0});var ae=b(k);y=T(ae,"INPUT",{id:!0,type:!0,spellcheck:!0,placeholder:!0,class:!0}),$=U(ae),h=T(ae,"A",{id:!0,href:!0,class:!0});var o=b(h);v=Y(o,"Forgot"),o.forEach(n),H=U(ae),M.l(ae),ae.forEach(n),D=U(_),C=T(_,"BUTTON",{id:!0,class:!0});var I=b(C);q=Y(I,"Sign In"),I.forEach(n),this.h()},h(){f(e,"class","svelte-zjx7pb"),f(r,"class","link svelte-zjx7pb"),f(u,"type","text"),f(u,"spellcheck","false"),f(u,"placeholder","Username or email"),f(u,"class","svelte-zjx7pb"),f(d,"class","image svelte-zjx7pb"),f(y,"id","password-short"),f(y,"type",V=i[2]?"text":"password"),f(y,"spellcheck","false"),f(y,"placeholder","Password"),f(y,"class","svelte-zjx7pb"),f(h,"id","forgot"),f(h,"href","/forgot"),f(h,"class","svelte-zjx7pb"),f(k,"id","password-forgot"),f(k,"class","svelte-zjx7pb"),f(C,"id","sign-in"),f(C,"class","svelte-zjx7pb")},m(_,S){m(_,e,S),z(e,t),m(_,l,S),m(_,s,S),z(s,a),z(s,r),z(r,c),m(_,p,S),m(_,u,S),we(u,i[7]),m(_,g,S),m(_,d,S),le(w,d,null),m(_,N,S),m(_,k,S),z(k,y),z(k,$),z(k,h),z(h,v),z(k,H),L[R].m(k,null),m(_,D,S),m(_,C,S),z(C,q),F=!0,Z||(X=[P(r,"click",i[21]),P(u,"keypress",i[18]),P(u,"input",i[22]),P(u,"input",i[23]),P(y,"keypress",i[18]),P(y,"input",i[24]),P(C,"click",i[15])],Z=!0)},p(_,S){S[0]&128&&u.value!==_[7]&&we(u,_[7]),(!F||S[0]&4&&V!==(V=_[2]?"text":"password"))&&f(y,"type",V);let J=R;R=ue(_),R===J?L[R].p(_,S):(be(),B(L[J],1,1,()=>{L[J]=null}),ye(),M=L[R],M?M.p(_,S):(M=L[R]=ne[R](_),M.c()),A(M,1),M.m(k,null))},i(_){F||(A(w.$$.fragment,_),A(M),F=!0)},o(_){B(w.$$.fragment,_),B(M),F=!1},d(_){_&&n(e),_&&n(l),_&&n(s),_&&n(p),_&&n(u),_&&n(g),_&&n(d),se(w),_&&n(N),_&&n(k),L[R].d(),_&&n(D),_&&n(C),Z=!1,Pe(X)}}}function vt(i){let e,t,l,s,a;return t=new qe({}),{c(){e=j("div"),te(t.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var c=b(e);re(t.$$.fragment,c),c.forEach(n),this.h()},h(){f(e,"class","image svelte-zjx7pb")},m(r,c){m(r,e,c),le(t,e,null),l=!0,s||(a=P(e,"click",i[34]),s=!0)},p:K,i(r){l||(A(t.$$.fragment,r),l=!0)},o(r){B(t.$$.fragment,r),l=!1},d(r){r&&n(e),se(t),s=!1,a()}}}function gt(i){let e,t,l,s,a;return t=new De({}),{c(){e=j("div"),te(t.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var c=b(e);re(t.$$.fragment,c),c.forEach(n),this.h()},h(){f(e,"class","image svelte-zjx7pb")},m(r,c){m(r,e,c),le(t,e,null),l=!0,s||(a=P(e,"click",i[33]),s=!0)},p:K,i(r){l||(A(t.$$.fragment,r),l=!0)},o(r){B(t.$$.fragment,r),l=!1},d(r){r&&n(e),se(t),s=!1,a()}}}function wt(i){let e,t,l,s,a;return t=new qe({}),{c(){e=j("div"),te(t.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var c=b(e);re(t.$$.fragment,c),c.forEach(n),this.h()},h(){f(e,"class","image svelte-zjx7pb")},m(r,c){m(r,e,c),le(t,e,null),l=!0,s||(a=P(e,"click",i[26]),s=!0)},p:K,i(r){l||(A(t.$$.fragment,r),l=!0)},o(r){B(t.$$.fragment,r),l=!1},d(r){r&&n(e),se(t),s=!1,a()}}}function kt(i){let e,t,l,s,a;return t=new De({}),{c(){e=j("div"),te(t.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var c=b(e);re(t.$$.fragment,c),c.forEach(n),this.h()},h(){f(e,"class","image svelte-zjx7pb")},m(r,c){m(r,e,c),le(t,e,null),l=!0,s||(a=P(e,"click",i[25]),s=!0)},p:K,i(r){l||(A(t.$$.fragment,r),l=!0)},o(r){B(t.$$.fragment,r),l=!1},d(r){r&&n(e),se(t),s=!1,a()}}}function Be(i){let e,t;return e=new Ce({}),{c(){te(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){le(e,l,s),t=!0},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function bt(i){let e,t,l,s,a,r,c,p,u,g,d,w,N,k;const y=[_t,ht,pt],V=[];function $(h,v){return h[0]===void 0?0:h[0]===null?1:2}return u=$(i),g=V[u]=y[u](i),{c(){e=j("link"),t=j("link"),l=j("script"),a=j("link"),r=j("script"),p=x(),g.c(),d=ke(),this.h()},l(h){const v=Fe('[data-svelte="svelte-15y9rqv"]',document.head);e=T(v,"LINK",{rel:!0,href:!0}),t=T(v,"LINK",{rel:!0,href:!0,crossorigin:!0}),l=T(v,"SCRIPT",{src:!0});var H=b(l);H.forEach(n),a=T(v,"LINK",{rel:!0,as:!0,href:!0}),r=T(v,"SCRIPT",{src:!0});var R=b(r);R.forEach(n),v.forEach(n),p=U(h),g.l(h),d=ke(),this.h()},h(){f(e,"rel","preconnect"),f(e,"href","https://www.google.com"),f(t,"rel","preconnect"),f(t,"href","https://www.gstatic.com"),f(t,"crossorigin",""),Ae(l.src,s="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js")||f(l,"src",s),f(a,"rel","preload"),f(a,"as","script"),f(a,"href",i[11]),r.async=!0,r.defer=!0,Ae(r.src,c=i[11])||f(r,"src",c)},m(h,v){z(document.head,e),z(document.head,t),z(document.head,l),z(document.head,a),z(document.head,r),m(h,p,v),V[u].m(h,v),m(h,d,v),w=!0,N||(k=[P(l,"load",i[20]),P(r,"load",i[14])],N=!0)},p(h,v){let H=u;u=$(h),u===H?V[u].p(h,v):(be(),B(V[H],1,1,()=>{V[H]=null}),ye(),g=V[u],g?g.p(h,v):(g=V[u]=y[u](h),g.c()),A(g,1),g.m(d.parentNode,d))},i(h){w||(A(g),w=!0)},o(h){B(g),w=!1},d(h){n(e),n(t),n(l),n(a),n(r),h&&n(p),V[u].d(h),h&&n(d),N=!1,Pe(k)}}}function Re(i){if(i.length<12)throw"Your password must be at least 12 characters";if(i.search(/[a-z]/)<0)throw"Your password must contain at least one lowercase letter";if(i.search(/[A-Z]/)<0)throw"Your password must contain at least one uppercase letter";if(i.search(/[0-9]|[~`!#$%\^&*+=\-_\[\]\\';,\./{}|\\":<>\?]/)<0)throw"Your password must contain at least one digit or special character"}function xe(i){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i)}function yt(i,e,t){let l,s,a,r;Ee(i,Ze,E=>t(38,l=E)),Ee(i,ge,E=>t(0,s=E));const c="6LfizpIgAAAAAKsRfVHPurszakBAiFLdW-CwLxaD",p=`https://www.google.com/recaptcha/api.js?render=${c}`;console.log(p);const u=Ve(!1);Ee(i,u,E=>t(10,a=E));const g=Ve("");Ee(i,g,E=>t(39,r=E));let d=!0,w=!1,N="",k="",y="",V="";function $(){console.log("recaptcha loaded")}async function h(){try{Re(y),ee(u,a=!0,a),await R(),xe(N)?await ge.signInEmail(N,y):await ge.signInUsername(N,y),console.log("login")}catch{ee(g,r="",r),ee(g,r="Incorrect username/email or password",r)}finally{ee(u,a=!1,a)}}async function v(){try{ee(u,a=!0,a),await ge.signInGoogle()}catch(E){ee(g,r=E,r)}finally{ee(u,a=!1,a)}}async function H(){try{if(ee(u,a=!0,a),N.length<=2)throw new Error("Please enter your username");if(k.length<=3||!xe(k))throw new Error("Please enter a valid email");if(Re(y),y!==V)throw new Error("Your passwords do not match");await R(),await ge.register(N,k,y)}catch(E){ee(g,r=E,r)}finally{ee(u,a=!1,a)}}async function R(){try{return console.log("recaptcha start"),await new Promise((he,Oe)=>{grecaptcha.ready(async()=>{console.log("recaptcha ready");let Se=await grecaptcha.execute(c,{action:"contactForm"});console.log("recaptcha token:",Se);const ve=await(await fetch(`//${l.url.host}/endpoints/auth`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:`{"response":"${Se}"}`})).json();return!ve.success||ve.action!=="contactForm"||ve.score<.5?Oe(ve):(console.log("recaptcha verified: ",ve),he(ve))})})}catch(E){console.log(E)}}function M(E){E.key==="Enter"&&h()}function D(E){E.key==="Enter"&&H()}let C="",q="",F="";const Z=()=>alert("jquery"),X=()=>t(1,d=!1);function ne(){C=this.value,t(7,C)}const L=E=>t(3,N=E.currentTarget.value),ue=E=>t(5,y=E.currentTarget.value),_=()=>t(2,w=!w),S=()=>t(2,w=!w),J=()=>t(1,d=!0);function pe(){q=this.value,t(8,q)}const Q=E=>t(3,N=E.currentTarget.value);function ae(){F=this.value,t(9,F)}const o=E=>t(4,k=E.currentTarget.value),I=E=>t(5,y=E.currentTarget.value),oe=()=>t(2,w=!w),$e=()=>t(2,w=!w),ze=E=>t(6,V=E.currentTarget.value),Ie=()=>ge.signOut();return i.$$.update=()=>{i.$$.dirty[0]&1&&s&&(async()=>{var he;const E=await Ge(s);He.clear(),He.setItem("accessLevel",((he=E==null?void 0:E.claims)==null?void 0:he.accessLevel)||0),We("/on/home")})()},typeof grecaptcha!="undefined"&&(console.log(typeof grecaptcha=="undefined"),$()),[s,d,w,N,k,y,V,C,q,F,a,p,u,g,$,h,v,H,M,D,Z,X,ne,L,ue,_,S,J,pe,Q,ae,o,I,oe,$e,ze,Ie]}class Et extends _e{constructor(e){super();me(this,e,yt,bt,de,{},null,[-1,-1])}}function $t(i){let e,t;return e=new Et({}),{c(){te(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){le(e,l,s),t=!0},p:K,i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}class Bt extends _e{constructor(e){super();me(this,e,null,$t,de,{})}}export{Bt as default};
