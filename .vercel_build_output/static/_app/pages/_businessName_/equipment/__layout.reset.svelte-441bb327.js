import{S as L,i as N,s as K,F as S,e as y,k as q,G as P,c as b,d as p,m as C,b as c,H as I,g as z,I as E,J as F,K as G,q as H,o as J,L as d,r as M,M as R,a3 as j,a4 as A,a5 as B,D as k}from"../../../chunks/vendor-7483cdb5.js";import{n as O}from"../../../chunks/stores-0399aab1.js";/* empty css                                                           */import{a as Q}from"../../../chunks/auth-887b2c39.js";import{g as w}from"../../../chunks/navigation-0e6511d1.js";import{b as T}from"../../../chunks/env-6d58f0dd.js";import{app as U}from"../../../chunks/app-b317696e.js";import{s as v}from"../../../chunks/storage-c0d15549.js";/* empty css                                                            */import"../../../chunks/preload-helper-e4860ae8.js";import"../../../chunks/singletons-d1fb5791.js";function V(o){let i,s,n,l,u;const m=o[7].default,t=S(m,o,o[6],null);return{c(){i=y("link"),s=y("link"),n=y("link"),l=q(),t&&t.c(),this.h()},l(e){const a=P('[data-svelte="svelte-3ozpvb"]',document.head);i=b(a,"LINK",{rel:!0,href:!0,crossorigin:!0}),s=b(a,"LINK",{rel:!0,as:!0,href:!0}),n=b(a,"LINK",{rel:!0,href:!0}),a.forEach(p),l=C(e),t&&t.l(e),this.h()},h(){c(i,"rel","preconnect"),c(i,"href","https://fonts.googleapis.com"),c(i,"crossorigin",""),c(s,"rel","preload"),c(s,"as","style"),c(s,"href","https://fonts.googleapis.com/css?family=Poppins"),c(n,"rel","stylesheet"),c(n,"href","https://fonts.googleapis.com/css?family=Poppins")},m(e,a){I(document.head,i),I(document.head,s),I(document.head,n),z(e,l,a),t&&t.m(e,a),u=!0},p(e,[a]){t&&t.p&&(!u||a&64)&&E(t,m,e,e[6],u?G(m,e[6],a,null):F(e[6]),null)},i(e){u||(H(t,e),u=!0)},o(e){J(t,e),u=!1},d(e){p(i),p(s),p(n),e&&p(l),t&&t.d(e)}}}function W(o,i,s){let n,l,u,m;d(o,Q,r=>s(4,l=r)),d(o,O,r=>s(5,u=r));let{$$slots:t={},$$scope:e}=i;const a=k(!1);d(o,a,r=>s(8,m=r));const f=k(null);d(o,f,r=>s(3,n=r)),M("userData",f);let h=!0;return o.$$set=r=>{"$$scope"in r&&s(6,e=r.$$scope)},o.$$.update=()=>{o.$$.dirty&32&&R(a,m=!!u,m),o.$$.dirty&28&&(async()=>{try{if(!l){h||await w("/");return}if(s(2,h=!1),n)return;const r=j(U),D=A(r,"users",l==null?void 0:l.displayName),g=await B(D),_=g==null?void 0:g.data();if(_.displayName=D.id,_.accessLevel=v.getItem("accessLevel")||0,_||await w("/business"),f.set(_),v.getItem("businessID")===n.businessID)return;v.setItem("businessID",n.businessID)}catch(r){console.error(r)}})()},[a,f,h,n,l,u,e,t]}class ne extends L{constructor(i){super();N(this,i,W,V,K,{})}}export{ne as default};
